# 宝塔面板部署说明

## 1. 构建项目
```bash
npm run build
```

## 2. 宝塔面板部署步骤

### 步骤1：创建网站
1. 登录宝塔面板
2. 点击"网站" -> "添加站点"
3. 输入域名或IP
4. 选择PHP版本（推荐7.4+）或纯静态

### 步骤2：上传文件
1. 将 `dist` 文件夹内的**所有内容**上传到网站根目录
2. **注意**：是上传 dist 文件夹内的内容，不是 dist 文件夹本身
3. 确保根目录包含：
   - index.html
   - static/ 文件夹

### 步骤3：配置伪静态（重要）
在宝塔面板网站设置中，添加伪静态规则：

#### Nginx 伪静态规则：
```nginx
location / {
    try_files $uri $uri/ /index.html;
}
```

#### Apache 伪静态规则：
```apache
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>
```

### 步骤4：检查文件权限
确保所有文件权限为 755 或 644

## 3. 常见问题解决

### 问题1：页面空白
**解决方案**：
1. 检查浏览器控制台错误
2. 确认文件上传完整
3. 检查网站根目录是否正确

### 问题2：刷新页面404
**解决方案**：
1. 添加伪静态规则（见上方）
2. 或者使用hash路由（已配置）

### 问题3：API请求失败
**解决方案**：
1. 检查API服务器 `http://47.119.138.66:15000` 是否可访问
2. 检查宝塔防火墙设置
3. 确认服务器网络连通性

### 问题4：资源文件加载失败
**解决方案**：
1. 检查static文件夹是否完整上传
2. 清除浏览器缓存
3. 检查网站SSL配置

## 4. 验证部署成功

访问网站后应该看到：
1. 页面正常显示
2. 左侧菜单可以正常切换
3. 浏览器控制台无错误
4. 网址栏显示hash路由（#/package-list）

## 5. 部署检查清单

- [ ] dist文件夹构建成功
- [ ] 所有文件上传到网站根目录
- [ ] 伪静态规则已配置
- [ ] 文件权限设置正确
- [ ] API服务器可访问
- [ ] 浏览器可正常访问网站

## 6. 调试技巧

如果还是无法访问，请：
1. 打开浏览器开发者工具（F12）
2. 查看Console标签页的错误信息
3. 查看Network标签页的请求状态
4. 检查宝塔面板的错误日志 